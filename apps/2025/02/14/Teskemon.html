<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Teskemon: Tailscale Specialist | Jeffrey Bergier</title>
<meta name="generator" content="Jekyll v4.4.1" />
<meta property="og:title" content="Teskemon: Tailscale Specialist" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In 2024 I started using Tailscale to access my home network remotely. When I noticed Tailscale had a CLI with a JSON interface, I couldn’t help myself… I built an app." />
<meta property="og:description" content="In 2024 I started using Tailscale to access my home network remotely. When I noticed Tailscale had a CLI with a JSON interface, I couldn’t help myself… I built an app." />
<link rel="canonical" href="https://jeffburg.com/apps/2025/02/14/Teskemon.html" />
<meta property="og:url" content="https://jeffburg.com/apps/2025/02/14/Teskemon.html" />
<meta property="og:site_name" content="Jeffrey Bergier" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2025-02-14T00:00:00+00:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Teskemon: Tailscale Specialist" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-02-14T00:00:00+00:00","datePublished":"2025-02-14T00:00:00+00:00","description":"In 2024 I started using Tailscale to access my home network remotely. When I noticed Tailscale had a CLI with a JSON interface, I couldn’t help myself… I built an app.","headline":"Teskemon: Tailscale Specialist","mainEntityOfPage":{"@type":"WebPage","@id":"https://jeffburg.com/apps/2025/02/14/Teskemon.html"},"url":"https://jeffburg.com/apps/2025/02/14/Teskemon.html"}</script>
<!-- End Jekyll SEO tag -->
<link id="main-stylesheet" rel="stylesheet" href="/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://jeffburg.com/feed.xml" title="Jeffrey Bergier" />
</head>
<body><header class="site-header">

  <div class="wrapper">
    <a class="site-title" rel="author" href="/">Jeffrey Bergier</a>
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon"></span>
        </label>

        <div class="nav-items">
        <a class="nav-item" href="/apps/"><i class="fa-solid fa-compass-drafting"></i> Apps</a> <!-- Removed | escape -->
        <a class="nav-item" href="/design/"><i class="fa-solid fa-swatchbook"></i> Design</a> <!-- Removed | escape -->
        <a class="nav-item" href="/retro-tech/"><i class="fa-solid fa-microchip"></i> Retro Tech</a> <!-- Removed | escape -->
</div>

      </nav>
  </div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
  <!-- Custom Layout Starts Here -->
    
    <div class="title-accessory">
      <p><i class="jsb-app-teskemon-256 reflect below-xs round-none"></i></p>

    </div>
    
    <div class="post-meta">
      <h1 class="post-title p-name" itemprop="name headline">Teskemon: Tailscale Specialist</h1><p><p>In 2024 I started using Tailscale to access my home network remotely. When I noticed Tailscale had a CLI with a JSON interface, I couldn’t help myself… I built an app.</p>
</p><!-- Custom Layout Ends Here -->
      <time class="dt-published" datetime="2025-02-14T00:00:00+00:00" itemprop="datePublished">
        Feb 14, 2025
      </time>
    </div>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a href="/assets/images/apps/teskemon/01-full.png"><img src="/assets/images/apps/teskemon/01-thumb.png" alt="Teskemon Main Window" /></a></p>

<h2 id="table-of-contents">Table of Contents</h2>

<ul id="markdown-toc">
  <li><a href="#table-of-contents" id="markdown-toc-table-of-contents">Table of Contents</a></li>
  <li><a href="#overview" id="markdown-toc-overview">Overview</a>    <ul>
      <li><a href="#download" id="markdown-toc-download">Download</a></li>
    </ul>
  </li>
  <li><a href="#development" id="markdown-toc-development">Development</a>    <ul>
      <li><a href="#model" id="markdown-toc-model">Model</a></li>
      <li><a href="#controller" id="markdown-toc-controller">Controller</a></li>
      <li><a href="#view" id="markdown-toc-view">View</a></li>
      <li><a href="#privacy" id="markdown-toc-privacy">Privacy</a></li>
    </ul>
  </li>
</ul>

<h2 id="overview">Overview</h2>

<p><a href="/assets/images/apps/teskemon/02-full.png" class="thumbnail"><img src="/assets/images/apps/teskemon/02-thumb.png" alt="Teskemon About Window" /></a>
Teskemon is a SwiftUI application built to monitor Tailscale networks. 
It is provided under the <a href="LICENSE">GPLv3 open source license</a> and without any warranty or liability. 
If this application is useful for you, please use as you wish and provide feedback. 
And yes, I do accept pull requests.</p>

<h3 id="download">Download</h3>

<ul>
  <li><a href="https://github.com/jeffreybergier/Teskemon/tree/main/Builds"><i class="fa-regular fa-circle-down"></i>Teskemon Notarized Builds</a></li>
  <li><a href="https://github.com/jeffreybergier/Teskemon/" target="_blank"><i class="fa-brands fa-github"></i>Teskemon Source Code</a></li>
  <li><a href="https://jeffburg.social/tags/Tailscale" target="_blank"><i class="fa-brands fa-mastodon"></i>Teskemon Development Updates</a></li>
</ul>

<p>Requires macOS 14.4 or later because of <a href="https://developer.apple.com/documentation/swiftui/tablecolumnforeach"><code class="language-plaintext highlighter-rouge">TableColumnForEach</code></a></p>

<h2 id="development">Development</h2>

<p>Teskemon was the first app I developed to make heavy use of the new 
<a href="https://docs.swift.org/swift-book/documentation/the-swift-programming-language/concurrency/">Swift Concurrency</a> 
system. Concurrency is used to ping and check open ports on many network
endpoints at once. That said, Teskemon uses a standard (boring) Model View
Controller approach. There are 3 Swift Packages, Model, Controller, View. When I
make big changes I usually post about it on Mastodon. Following along
<a href="https://jeffburg.social/tags/Tailscale">jeffburg.social/tags/Tailscale</a> if you
are curious.</p>

<h3 id="model">Model</h3>
<p>Contains all the basic model types and the conversion logic from the JSON
provided by Tailscale <code class="language-plaintext highlighter-rouge">tailscale status --json</code>. These types can all be
considered View Models if you like… they are all meant for the view.</p>

<h3 id="controller">Controller</h3>
<p>Controller contains 3 sets of functionality:</p>
<ol>
  <li>Keychain access logic</li>
  <li>Extension to Process (previously NSTask) to execute the CLI commands
and parse the results. This is all done using <code class="language-plaintext highlighter-rouge">async await</code></li>
  <li>Property Wrappers that wrap the model complexity as well as the Keychain, 
Process, and Presentation complexity into simple types the views can read from
and write to</li>
</ol>

<p>In order to ensure consistency and live updating across all screens all the time
either AppStorage or SceneStorage are used as an underlying storage primitive.
AppStorage stores settings like custom names and the list of services.
SceneStorage stores temporary information like the list of Machines from
Tailscale, the results of the Service scans, and the presentation state of all
the views.</p>

<h3 id="view">View</h3>
<p>This layer contains all of the views for the application. They are all fairly
simply and mostly consist of Tables or Forms.</p>

<h3 id="privacy">Privacy</h3>
<p>Teskemon does not access the internet or use any analytics service. There is no 
login or other user information stored. The tailscale CLI does provide your 
name, but it is only stored in SceneStorage and never uploaded anywhere. 
Passwords are stored in the keychain but they are cached in memory 
for performance reasons.</p>

<p>That said, Teskemon is not sandboxed because it uses the Process API (previously
NSTask). Because Process allows the application to run any executable on the
machine, it is not possible to use this API in a sandboxed application. Process
is only used to run netcat, ping, and the Tailscale CLI.</p>

<p>Also, if your employer tightly monitors their network, using Netcat 
to port scan a large number of ports on a large number of machines can cause 
warnings to go off (ask how I know). In those cases you may want to disable 
automatic refresh of Services, which is the default setting.</p>

  </div>

  <a class="u-url" href="/apps/2025/02/14/Teskemon.html" hidden></a>
</article>

      </div>
    </main><link id="fa-stylesheet" rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.0.0/css/all.min.css">

<footer class="site-footer h-card">
  <data class="u-url" value="/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
      </div>
      <div class="footer-col">
        <p></p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li>
    <a rel="me" href="https://github.com/jeffreybergier" target="_blank" title="Github">
      <span class="grey fa-brands fa-github fa-lg"></span>
    </a>
  </li><li>
    <a rel="me" href="https://jeffburg.social/@Jeff" target="_blank" title="Mastodon">
      <span class="grey fa-brands fa-mastodon fa-lg"></span>
    </a>
  </li><li>
    <a rel="me" href="https://linkedin.com/in/jeffreybergier" target="_blank" title="LinkedIn">
      <span class="grey fa-brands fa-linkedin fa-lg"></span>
    </a>
  </li>
  <li>
    <a href="https://jeffburg.com/feed.xml" target="_blank" title="Subscribe to syndication feed">
      <svg class="svg-icon grey" viewbox="0 0 16 16">
        <path d="M12.8 16C12.8 8.978 7.022 3.2 0 3.2V0c8.777 0 16 7.223 16 16h-3.2zM2.194
          11.61c1.21 0 2.195.985 2.195 2.196 0 1.21-.99 2.194-2.2 2.194C.98 16 0 15.017 0
          13.806c0-1.21.983-2.195 2.194-2.195zM10.606
          16h-3.11c0-4.113-3.383-7.497-7.496-7.497v-3.11c5.818 0 10.606 4.79 10.606 10.607z"
        />
      </svg>
    </a>
  </li>
</ul>
</div>

  </div>

</footer>

</body>

</html>
